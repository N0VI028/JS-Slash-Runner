<div id="tavern-helper-extension-container">
  <div class="inline-drawer">
    <div class="inline-drawer-toggle inline-drawer-header">
      <b>酒馆助手</b>
      <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
    </div>
    <div class="inline-drawer-content">
      <div class="extension-status flex spaceBetween alignItemsCenter marginTopBot5 paddingLeftRight5">
        <div class="flex alignItemsCenter">
          <i id="extension-status-icon" class="fa-solid fa-power-off margin-r5"></i>
          <div id="extension-status" class="inline-block"></div>
        </div>
        <div class="version"></div>
      </div>
      <div id="extension-container" class="marginTop10 marginBot10">
        <div class="extension-title flex alignItemsCenter width100p padding5">
          <div id="main-settings-title" class="title-item flex flex1 justifyCenter alignItemsCenter height100p">
            <div class="settings-title flex alignItemsCenter">
              <i class="fa-solid fa-gear margin-r5 fontsize80p"></i>主设置
            </div>
          </div>
          <div id="render-settings-title" class="title-item flex flex1 justifyCenter alignItemsCenter height100p">
            <div class="settings-title flex alignItemsCenter">
              <i class="fa-solid fa-magic-wand-sparkles margin-r5 fontsize80p"></i>渲染器
            </div>
          </div>
          <div id="script-settings-title" class="title-item flex flex1 justifyCenter alignItemsCenter height100p">
            <div class="settings-title flex alignItemsCenter">
              <i class="fa-solid fa-dice-d6 margin-r5 fontsize80p"></i>脚本库
            </div>
          </div>
          <div id="audio-settings-title" class="title-item flex flex1 justifyCenter alignItemsCenter height100p">
            <div class="settings-title flex alignItemsCenter">
              <i class="fa-solid fa-headphones-alt margin-r5 fontsize80p"></i>播放器
            </div>
          </div>
        </div>
        <div id="main-settings-content" class="extension-content flex flexFlowColumn gap10px">
          <div class="extension-content-item">
            <div class="flex flexFlowColumn">
              <div class="settings-title-text">启用扩展</div>
              <div class="settings-title-description">扩展总开关</div>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" id="extension-enable-toggle" class="toggle-input" checked />
              <label for="extension-enable-toggle" class="toggle-label">
                <span class="toggle-handle"></span>
              </label>
            </div>
          </div>
          <div class="divider"></div>
          <div class="extension-content-item">
            <div class="flex flexFlowColumn">
              <div class="settings-title-text">常见问题</div>
              <div class="settings-title-description">包括扩展使用及前端卡游玩相关问题的解答</div>
            </div>
            <div class="TavernHelper-button">
              <a
                href="https://n0vi028.github.io/JS-Slash-Runner-Doc/%E5%85%B3%E4%BA%8E%E5%89%8D%E7%AB%AF%E5%8A%A9%E6%89%8B/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/%E5%AE%89%E8%A3%85%E4%B8%8E%E6%9B%B4%E6%96%B0%E9%97%AE%E9%A2%98.html"
                target="_blank"
                style="cursor: pointer"
              >
                查看
              </a>
            </div>
          </div>
          <div class="divider"></div>
          <div class="extension-content-item">
            <div class="flex flexFlowColumn">
              <div class="settings-title-text">版本更新</div>
              <div class="settings-title-description">检查并更新扩展，或查看最新特性</div>
            </div>
            <div id="update-extension" class="TavernHelper-button">
              更新
            </div>
          </div>
          <div id="extension-info">
            <div class="info-text flex flex1 flexFlowColumn">
              <div>作者：KAKAA，青空莉想做舞台少女的狗</div>
              <div>本扩展免费使用，禁止任何形式的商业用途</div>
            </div>
            <div class="flex-container alignItemsCenter gap10px">
              <a href="https://github.com/n0vi028/TavernHelper" target="_blank">
                <i class="fa-brands fa-github"></i>
              </a>
              <a
                href="https://n0vi028.github.io/JS-Slash-Runner-Doc/%E5%85%B3%E4%BA%8E%E5%89%8D%E7%AB%AF%E5%8A%A9%E6%89%8B/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/%E5%AE%89%E8%A3%85%E4%B8%8E%E6%9B%B4%E6%96%B0%E9%97%AE%E9%A2%98.html"
                target="_blank"
              >
                <i class="fa-brands fa-discord"></i>
              </a>
            </div>
            <div class="text-decoration">About Us</div>
          </div>
        </div>
        <div id="render-settings-content" class="extension-content flex flexFlowColumn gap10px">
          <div class="extension-content-item">
            <div class="flex flexFlowColumn">
              <div class="settings-title-text">启用渲染器</div>
              <div class="settings-title-description">启用后，符合条件的代码块将被渲染</div>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" id="render-enable-toggle" class="toggle-input" checked />
              <label for="render-enable-toggle" class="toggle-label">
                <span class="toggle-handle"></span>
              </label>
            </div>
          </div>
          <div class="divider"></div>
          <div class="extension-content-item">
            <div class="flex flexFlowColumn">
              <div class="settings-title-text">启用渲染优化</div>
              <div class="settings-title-description">隐藏所有代码块，并取消代码块高亮，加速渲染</div>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" id="render-optimize-toggle" class="toggle-input" checked />
              <label for="render-optimize-toggle" class="toggle-label">
                <span class="toggle-handle"></span>
              </label>
            </div>
          </div>
          <div class="divider"></div>
          <div class="extension-content-item">
            <div class="flex flexFlowColumn">
              <div class="settings-title-text">渲染深度</div>
              <div class="settings-title-description">
                设置需要渲染的楼层数，从最新楼层开始计数。为0时，将渲染所有楼层
              </div>
            </div>
            <div class="input-number-wrapper">
              <input type="number" id="render-depth" class="input-number" min="0" value="0" />
            </div>
          </div>
        </div>
        <div id="script-settings-content" class="extension-content flex flexFlowColumn gap10px">
          <div class="flex-container">
            <div id="open-global-script-editor" class="menu_button menu_button_icon interactable">
              <i class="fa-solid fa-pen-to-square"></i>
              <small>+ 全局</small>
            </div>
            <div id="open-scoped-script-editor" class="menu_button menu_button_icon interactable">
              <i class="fa-solid fa-address-card"></i>
              <small>+ 局部</small>
            </div>
            <div id="import-script" class="menu_button menu_button_icon interactable">
              <i class="fa-solid fa-file-import"></i>
              <small>导入</small>
            </div>
            <input multiple accept="*.json" hidden id="import-script-file" type="file" />
            <div id="default-script" class="menu_button menu_button_icon interactable">
              <i class="fa-solid fa-archive"></i>
              <small>内置脚本库</small>
            </div>
          </div>
          <div id="global-script-content" class="flex-container flexFlowColumn">
            <div class="extension-content-item">
              <div class="flex flexFlowColumn">
                <div class="settings-title-text">全局脚本库</div>
                <div class="settings-title-description">应用于酒馆所有聊天</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="global-script-enable-toggle" class="toggle-input" checked />
                <label for="global-script-enable-toggle" class="toggle-label">
                  <span class="toggle-handle"></span>
                </label>
              </div>
            </div>
            <div id="global-script-list" class="flex-container flexFlowColumn alignItemsCenter"></div>
            <div class="divider marginTop10 marginBot10"></div>
            <div class="extension-content-item">
              <div class="flex flexFlowColumn">
                <div class="settings-title-text">局部脚本库</div>
                <div class="settings-title-description">应用于酒馆当前聊天</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="scoped-script-enable-toggle" class="toggle-input" checked />
                <label for="scoped-script-enable-toggle" class="toggle-label">
                  <span class="toggle-handle"></span>
                </label>
              </div>
            </div>
            <div id="scoped-script-list" class="flex-container flexFlowColumn alignItemsCenter"></div>
          </div>
        </div>
        <div id="audio-settings-content" class="extension-content flex flexFlowColumn gap10px">
          <div class="extension-content-item">
            <div class="flex flexFlowColumn">
              <div class="settings-title-text">启用播放器</div>
              <div class="settings-title-description">扩展内置的全局播放器</div>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" id="audio-enable-toggle" class="toggle-input" checked />
              <label for="audio-enable-toggle" class="toggle-label">
                <span class="toggle-handle"></span>
              </label>
            </div>
          </div>
          <div class="divider"></div>
          <div id="audio-player-content" class="flex-container flexFlowColumn">
            <div>
              <div class="title_restorable space-between alignItemsCenter">
                <label for="audio_bgm_volume_slider">音乐</label>
                <label class="checkbox flex-container" for="enable_bgm">
                  <input type="checkbox" id="enable_bgm" name="enable_bgm" />
                  <span class="bgm-toggle-on fa-solid fa-toggle-on" title="禁用BGM播放器"></span>
                  <span class="bgm-toggle-off fa-solid fa-toggle-off" title="启用BGM播放器"></span>
                </label>
                <div id="bgm_manager_button" title="管理音乐链接" class="menu_button menu_button_icon manager-button">
                  <i class="fa-solid fa-list-ol"></i>
                </div>
              </div>
              <div class="audio-container">
                <div class="mute-vol-wrapper">
                  <div class="mute-div">
                    <div id="audio_bgm_mute" class="menu_button audio-player-button">
                      <i class="fa-solid fa-volume-high fa-lg fa-fw" id="audio_bgm_mute_icon"></i>
                    </div>
                  </div>
                  <div class="vol" id="bgm-volume-control">
                    <input
                      type="range"
                      class="audio-slider vertical-slider"
                      id="audio_bgm_volume_slider"
                      value="100"
                      maxlength="100"
                    />
                  </div>
                </div>
                <div class="play-pause-div">
                  <div id="audio_bgm_play_pause" class="menu_button audio-player-button">
                    <i class="fa-solid fa-play fa-lg fa-fw" id="audio_bgm_play_pause_icon"></i>
                  </div>
                </div>
                <div class="progress-div">
                  <input type="range" class="audio-slider" id="audio_bgm_progress_slider" value="0" maxlength="100" />
                </div>
              </div>
              <div class="audio-adjust">
                <div class="playlist">
                  <select id="audio_bgm_select"></select>
                </div>
                <div class="audio-mixer-element audio-mixer-mode">
                  <div id="audio_bgm_mode" class="menu_button audio-player-button">
                    <i class="fa-solid fa-repeat fa-lg fa-fw" id="audio_bgm_mode_icon"></i>
                  </div>
                </div>
              </div>
              <audio id="audio_bgm" controls src=""></audio>
            </div>
            <div>
              <div class="title_restorable space-between alignItemsCenter">
                <label for="audio_ambient_volume_slider">音效</label>
                <label class="checkbox flex-container" for="enable_ambient">
                  <input type="checkbox" id="enable_ambient" name="enable_ambient" />
                  <span class="ambient-toggle-on fa-solid fa-toggle-on" title="禁用Ambient播放器"></span>
                  <span class="ambient-toggle-off fa-solid fa-toggle-off" title="启用Ambient播放器"></span>
                </label>
                <div
                  id="ambient_manager_button"
                  title="管理音效链接"
                  class="menu_button menu_button_icon manager-button"
                >
                  <i class="fa-solid fa-list-ol"></i>
                </div>
              </div>
              <div class="audio-container">
                <div class="mute-vol-wrapper">
                  <div class="mute-div">
                    <div id="audio_ambient_mute" class="menu_button audio-player-button">
                      <i class="fa-solid fa-volume-high fa-lg fa-fw" id="audio_ambient_mute_icon"></i>
                    </div>
                  </div>
                  <div class="vol" id="ambient-volume-control">
                    <input
                      type="range"
                      class="audio-slider vertical-slider"
                      id="audio_ambient_volume_slider"
                      value="100"
                      maxlength="100"
                    />
                  </div>
                </div>
                <div class="play-pause-div">
                  <div id="audio_ambient_play_pause" class="menu_button audio-player-button">
                    <i class="fa-solid fa-play fa-lg fa-fw" id="audio_ambient_play_pause_icon"></i>
                  </div>
                </div>
                <div class="progress-div">
                  <input
                    type="range"
                    class="audio-slider"
                    id="audio_ambient_progress_slider"
                    value="0"
                    maxlength="100"
                  />
                </div>
              </div>
              <div class="audio-adjust">
                <div class="playlist">
                  <select id="audio_ambient_select"></select>
                </div>
                <div class="audio-mixer-element audio-mixer-mode">
                  <div id="audio_ambient_mode" class="menu_button audio-player-button">
                    <i class="fa-solid fa-repeat fa-lg fa-fw" id="audio_ambient_mode_icon"></i>
                  </div>
                </div>
              </div>
              <audio id="audio_ambient" controls src=""></audio>
            </div>
            <div class="flex-container gap10px spaceBetween">
              <div class="wide50p">
                <label for="audio_cooldown">淡入淡出时间(秒)</label>
                <input id="audio_cooldown" class="text_pole wide25p" />
              </div>

              <div class="flex row-reverse alignItemsCenter justifyContentFlexEnd gap-12">
                <label for="audio_refresh_assets">刷新播放列表</label>
                <div id="audio_refresh_assets" class="menu_button btn-refresh">
                  <i class="fa-solid fa-refresh fa-lg"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
